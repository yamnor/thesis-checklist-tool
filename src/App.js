import React, { useState, useEffect } from 'react';
import './App.css';

const checklistData = {
  "1. å†…å®¹ã«ã¤ã„ã¦ ğŸ“": {
    "1.1 é¡Œç›® ğŸ·ï¸": [
      "ç ”ç©¶ã®ãƒ†ãƒ¼ãƒã‚’é©åˆ‡ã‹ã¤é­…åŠ›çš„ã«è¡¨ç¾ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ç ”ç©¶ã®ç›®çš„ã€ç¯„å›²ã€æ–¹å‘æ€§ã€æ‰‹æ³•ãŒå…·ä½“çš„ã«ç¤ºã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "å°‚é–€å®¶ã®é–¢å¿ƒã‚’æƒ¹ãã‚ˆã†ãªç‹¬å‰µæ€§ãŒé¡Œç›®ã«åæ˜ ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ"
    ],
    "1.2 ç›®æ¬¡ ğŸ“‘": [
      "è«–æ–‡ã®å…¨ä½“åƒãŒç›®æ¬¡ã ã‘ã§æŠŠæ¡ã§ãã‚‹ã‚ˆã†ã€ç« ãƒ»ç¯€ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚„æ§‹æˆãŒé©åˆ‡ã§ã™ã‹ï¼Ÿ",
      "è«–ç†çš„ãªæµã‚ŒãŒç›®æ¬¡æ§‹æˆã‹ã‚‰èª­ã¿å–ã‚Œã¾ã™ã‹ï¼Ÿ"
    ],
    "1.3 èƒŒæ™¯ ğŸŒ„": [
      "ç ”ç©¶ã®å¿…è¦æ€§ãŒç¤¾ä¼šçš„ãƒ»å­¦è¡“çš„æ–‡è„ˆã‹ã‚‰æ˜ç¢ºã«èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "é–¢é€£ã™ã‚‹å…ˆè¡Œç ”ç©¶ã‚’ç¶²ç¾…çš„ã«ç´¹ä»‹ã—ã€æœªè§£æ±ºã®å•é¡Œã‚’æ˜ç¢ºã«æŒ‡æ‘˜ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ç ”ç©¶åˆ†é‡ã®æœ€æ–°ã®å›½éš›çš„å‹•å‘ãŒåæ˜ ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ"
    ],
    "1.4 ç›®çš„ ğŸ¯": [
      "ç ”ç©¶ã§è§£æ±ºã™ã¹ãèª²é¡Œã‚„é”æˆã—ãŸã„ã“ã¨ãŒå…·ä½“çš„ã‹ã¤æ˜ç¢ºã«èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ç ”ç©¶ã®ç‹¬è‡ªæ€§ã‚„é©æ–°æ€§ãŒå¼·èª¿ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ç ”ç©¶ç›®çš„ã¨èƒŒæ™¯ã¨ã®é–¢é€£æ€§ãŒæ˜ç¢ºã«ç¤ºã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ"
    ],
    "1.5 æ–¹æ³• ğŸ”¬": [
      "ç ”ç©¶æ‰‹é †ãŒå†ç¾å¯èƒ½ãªãƒ¬ãƒ™ãƒ«ã§è©³ç´°ã«èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ãƒ‡ãƒ¼ã‚¿åé›†ã€å‡¦ç†ã€åˆ†æã®æ‰‹ç¶šããŒé€æ˜ã§ä¸€è²«ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "æ¡ç”¨ã—ãŸç ”ç©¶æ–¹æ³•ã®å¦¥å½“æ€§ã‚„é™ç•Œã«ã¤ã„ã¦è¨€åŠã—ã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "çµ±è¨ˆåˆ†æã‚„å®Ÿé¨“ãƒ‡ã‚¶ã‚¤ãƒ³ã®é©åˆ‡æ€§ãŒèª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ç ”ç©¶å€«ç†ã«é–¢ã™ã‚‹é…æ…®ã‚„æ‰¿èªãƒ—ãƒ­ã‚»ã‚¹ã«ã¤ã„ã¦è¨€åŠã—ã¦ã„ã¾ã™ã‹ï¼Ÿ"
    ],
    "1.6 çµæœ ğŸ“Š": [
      "ç ”ç©¶çµæœãŒå›³è¡¨ã‚’é©åˆ‡ã«ç”¨ã„ã¦åˆ†ã‹ã‚Šã‚„ã™ãèª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "æç¤ºã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãŒè«–æ—¨ã‚’åŠ¹æœçš„ã«æ”¯æŒã™ã‚‹ã‚ˆã†é©åˆ‡ã«é¸æŠã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "çµ±è¨ˆçš„æœ‰æ„æ€§ã‚„åŠ¹æœé‡ãªã©ã€çµæœã®é‡è¦æ€§ã‚’ç¤ºã™æŒ‡æ¨™ãŒé©åˆ‡ã«å ±å‘Šã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "äºˆæœŸã›ã¬çµæœã‚„ä¾‹å¤–çš„ãªãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦ã‚‚å…¬æ­£ã«å ±å‘Šã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ"
    ],
    "1.7 è€ƒå¯Ÿ ğŸ¤”": [
      "çµæœã«åŸºã¥ã„ã¦ã€ç ”ç©¶ã®çµè«–ãŒè«–ç†çš„ã«å°ã‹ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "çµæœã®è§£é‡ˆãŒå¤šè§’çš„ãªè¦–ç‚¹ã‹ã‚‰è¡Œã‚ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ç ”ç©¶æˆæœã®å®Ÿç”¨æ€§ã‚„å¿œç”¨å¯èƒ½æ€§ãŒå…·ä½“çš„ã«è€ƒå¯Ÿã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "å…ˆè¡Œç ”ç©¶ã¨ã®æ¯”è¼ƒã‚„å¯¾ç…§ãŒé©åˆ‡ã«è¡Œã‚ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ç ”ç©¶ã®é™ç•Œã¨å°†æ¥ã®ç ”ç©¶æ–¹å‘æ€§ã«ã¤ã„ã¦è©³ç´°ã«è€ƒå¯Ÿã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ"
    ],
    "1.8 çµè«– ğŸ": [
      "ç ”ç©¶ç›®çš„ã¨çµè«–ã®é–¢é€£æ€§ãŒæ˜ç¢ºã«èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ç ”ç©¶æˆæœã®å­¦è¡“çš„ãƒ»ç¤¾ä¼šçš„æ„ç¾©ã€æ³¢åŠåŠ¹æœãŒååˆ†ã«ã‚¢ãƒ”ãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ç ”ç©¶ã®ç‹¬è‡ªæ€§ã‚„é©æ–°æ€§ãŒæ”¹ã‚ã¦å¼·èª¿ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ"
    ],
    "1.9 ç·æ‹¬ ğŸ“Œ": [
      "ç ”ç©¶ã®å…¨ä½“åƒï¼ˆç›®çš„ã€œçµè«–ï¼‰ãŒç°¡æ½”ã‹ã¤é©åˆ‡ã«ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ä»Šå¾Œã®èª²é¡Œã‚„å°†æ¥ã®ç ”ç©¶å±•æœ›ãŒå…·ä½“çš„ã«è¿°ã¹ã‚‰ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ç ”ç©¶ã®å­¦è¡“çš„è²¢çŒ®åº¦ãŒæ˜ç¢ºã«ç¤ºã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ"
    ]
  },
  "2. è«–ç†æ§‹æˆã¨æ–‡ç« ã«ã¤ã„ã¦ ğŸ“": {
    "2.1 è«–ç†æ§‹æˆ ğŸ§ ": [
      "è«–æ–‡å…¨ä½“ã‚’é€šã˜ã¦è«–ç†ã®ä¸€è²«æ€§ãŒä¿ãŸã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "å„ç« ãƒ»ç¯€ã®ç¹‹ãŒã‚ŠãŒè‡ªç„¶ã§ã€è«–æ—¨ã®æµã‚ŒãŒã‚¹ãƒ ãƒ¼ã‚ºã§ã™ã‹ï¼Ÿ",
      "ä¸»å¼µã¨ãã‚Œã‚’æ”¯æŒã™ã‚‹è¨¼æ‹ ã®é–¢ä¿‚ãŒæ˜ç¢ºã§ã™ã‹ï¼Ÿ",
      "åè«–ã®å¯èƒ½æ€§ã‚’è€ƒæ…®ã—ã€ãã‚Œã«å¯¾ã™ã‚‹å¿œç­”ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ"
    ],
    "2.2 æ–‡ç«  âœï¸": [
      "èª¤å­—ãƒ»è„±å­—ãŒãªãã€èª­ã¿ã‚„ã™ã„æ–‡ç« ã«ãªã£ã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ç‰©ç†é‡ã®å˜ä½ãŒé©åˆ‡ã«è¡¨è¨˜ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "å°‚é–€ç”¨èªãŒé©åˆ‡ã«ä½¿ç”¨ã•ã‚Œã€å­¦è¡“çš„ãªæ–‡ä½“ã§çµ±ä¸€ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ãƒ‘ãƒ©ã‚°ãƒ©ãƒ•æ§‹æˆãŒé©åˆ‡ã§ã€å„ãƒ‘ãƒ©ã‚°ãƒ©ãƒ•ã«æ˜ç¢ºãªãƒˆãƒ”ãƒƒã‚¯ã‚»ãƒ³ãƒ†ãƒ³ã‚¹ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
      "æ–‡ç« ã®é•·ã•ã‚„ãƒªã‚ºãƒ ã«å¤‰åŒ–ã‚’ã¤ã‘ã€èª­ã¿ã‚„ã™ã•ã«é…æ…®ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ"
    ]
  },
  "3. å›³è¡¨ã¨è¦–è¦šè³‡æ–™ ğŸ“ˆ": {
    "3.1 å›³è¡¨ã®å“è³ª ğŸ–¼ï¸": [
      "å›³è¡¨ã‚„æ–‡å­—ã®é…ç½®ãƒ»é…è‰²ãŒãƒãƒªã‚¢ãƒ•ãƒªãƒ¼ã«é…æ…®ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "å›³è¡¨ãŒæœ¬æ–‡ã‚’è£œå®Œã—ã€åŠ¹æœçš„ã«æƒ…å ±ã‚’ä¼ãˆã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "å…¨ã¦ã®å›³è¡¨ã«é©åˆ‡ãªã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã¨èª¬æ˜ãŒä»˜ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "å¼•ç”¨ã—ãŸå›³è¡¨ã®å‡ºå…¸ãŒé©åˆ‡ã«æ˜è¨˜ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ã‚ªãƒªã‚¸ãƒŠãƒ«ã®å›³è¡¨ãŒç ”ç©¶ã®ç‹¬è‡ªæ€§ã‚’ç¤ºã™ãŸã‚ã«åŠ¹æœçš„ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ"
    ]
  },
  "4. å¼•ç”¨ã¨å‚è€ƒæ–‡çŒ® ğŸ“š": {
    "4.1 å¼•ç”¨ã¨å‚è€ƒæ–‡çŒ®ã®é©åˆ‡æ€§ ğŸ”": [
      "å¿…è¦ååˆ†ãªå‚è€ƒæ–‡çŒ®ãŒæŒ™ã’ã‚‰ã‚Œã€æœ¬æ–‡ä¸­ã§é©åˆ‡ã«å¼•ç”¨ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "å¼•ç”¨ã®å½¢å¼ï¼ˆç›´æ¥å¼•ç”¨ã€é–“æ¥å¼•ç”¨ï¼‰ãŒé©åˆ‡ã«ä½¿ã„åˆ†ã‘ã‚‰ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "å‚è€ƒæ–‡çŒ®ãƒªã‚¹ãƒˆãŒæŒ‡å®šã•ã‚ŒãŸå½¢å¼ã§æ­£ç¢ºã«ä½œæˆã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "æœ€æ–°ã®ç ”ç©¶å‹•å‘ã‚’åæ˜ ã—ãŸæ–‡çŒ®ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "è‡ªå·±å‰½çªƒã‚’é¿ã‘ã€éå»ã®è‡ªèº«ã®ç ”ç©¶ã‚’é©åˆ‡ã«å¼•ç”¨ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ"
    ]
  },
  "5. ç ”ç©¶å€«ç†ã¨ãƒ‡ãƒ¼ã‚¿ã®ä¿¡é ¼æ€§ ğŸ”’": {
    "5.1 ç ”ç©¶å€«ç†ã¨ãƒ‡ãƒ¼ã‚¿ç®¡ç† ğŸ“Š": [
      "ç ”ç©¶å€«ç†ã«é–¢ã™ã‚‹ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’éµå®ˆã—ã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ãƒ‡ãƒ¼ã‚¿ã®åé›†ã€ä¿ç®¡ã€å‡¦ç†ãŒé©åˆ‡ã«è¡Œã‚ã‚Œã€ãã®éç¨‹ãŒé€æ˜ã«è¨˜è¿°ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "åˆ©ç›Šç›¸åã®å¯èƒ½æ€§ãŒã‚ã‚‹å ´åˆã€é©åˆ‡ã«é–‹ç¤ºã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "å…±åŒç ”ç©¶è€…ã‚„å”åŠ›è€…ã®è²¢çŒ®ãŒé©åˆ‡ã«èªè­˜ã•ã‚Œã€è¬è¾ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ"
    ]
  },
  "6. ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¨è³ªç–‘å¿œç­”ã®æº–å‚™ ğŸ¤": {
    "6.1 ç™ºè¡¨æº–å‚™ ğŸ’¼": [
      "ç™ºè¡¨ç”¨ã‚¹ãƒ©ã‚¤ãƒ‰ãŒè«–æ–‡ã®è¦ç‚¹ã‚’ç°¡æ½”ã‹ã¤åŠ¹æœçš„ã«ä¼ãˆã‚‹ã‚‚ã®ã«ãªã£ã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ç™ºè¡¨æ™‚é–“å†…ã«åã¾ã‚‹ã‚ˆã†ã€å†…å®¹ãŒé©åˆ‡ã«å–æ¨é¸æŠã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "æƒ³å®šã•ã‚Œã‚‹è³ªå•ã«å¯¾ã™ã‚‹å›ç­”ã‚’æº–å‚™ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "ç ”ç©¶ã®é™ç•Œã‚„ä»Šå¾Œã®èª²é¡Œã«ã¤ã„ã¦ã€å»ºè¨­çš„ãªè­°è«–ãŒã§ãã‚‹æº–å‚™ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ"
    ]
  },
  "7. æœ€çµ‚ãƒã‚§ãƒƒã‚¯ âœ…": {
    "7.1 æœ€çµ‚ç¢ºèª ğŸ”": [
      "æŒ‡å°æ•™å“¡ã‚„ãƒ”ã‚¢ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’é©åˆ‡ã«åæ˜ ã•ã›ã¾ã—ãŸã‹ï¼Ÿ",
      "è«–æ–‡å…¨ä½“ã‚’é€šã—ã¦ä¸€è²«ã—ãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚„å¼•ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
      "æå‡ºå‰ã«ç¬¬ä¸‰è€…ã«é€šèª­ã—ã¦ã‚‚ã‚‰ã„ã€å®¢è¦³çš„ãªè¦–ç‚¹ã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å¾—ã¾ã—ãŸã‹ï¼Ÿ",
      "æå‡ºæœŸé™ã‚„æå‡ºæ–¹æ³•ãªã©ã€ã™ã¹ã¦ã®è¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã‹ï¼Ÿ"
    ]
  }
};

const getCertificateComment = (progress) => {
  if (progress === 100) return "ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼è«–æ–‡ã®æº–å‚™ãŒå®Œç’§ã«æ•´ã„ã¾ã—ãŸã€‚ç´ æ™´ã‚‰ã—ã„æˆæœã‚’æœŸå¾…ã—ã¦ã„ã¾ã™ã€‚";
  if (progress >= 80) return "ç´ æ™´ã‚‰ã—ã„é€²æ—ã§ã™ã€‚ã‚ã¨å°‘ã—ã§å®Œæˆã§ã™ã€‚ç´°éƒ¨ã‚’ç£¨ãä¸Šã’ã¦ã€ã•ã‚‰ãªã‚‹é«˜ã¿ã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ã€‚";
  if (progress >= 60) return "è‰¯ã„é€²æ—ã‚’é‚ã’ã¦ã„ã¾ã™ã€‚æ®‹ã‚Šã®é …ç›®ã«ã‚‚ä¸å¯§ã«å–ã‚Šçµ„ã¿ã€è³ªã®é«˜ã„è«–æ–‡ã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ã€‚";
  if (progress >= 40) return "é †èª¿ã«é€²ã‚“ã§ã„ã¾ã™ã€‚ã¾ã ã‚«ãƒãƒ¼ã§ãã¦ã„ãªã„é …ç›®ã«ã‚‚æ³¨ç›®ã—ã¦ã€ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸè«–æ–‡ä½œæˆã‚’å¿ƒãŒã‘ã¾ã—ã‚‡ã†ã€‚";
  if (progress >= 20) return "è«–æ–‡ä½œæˆã®ç¬¬ä¸€æ­©ã‚’è¸ã¿å‡ºã—ã¾ã—ãŸã€‚ä¸€ã¤ãšã¤ç€å®Ÿã«é€²ã‚ã¦ã„ã‘ã°ã€å¿…ãšè‰¯ã„æˆæœã«ã¤ãªãŒã‚Šã¾ã™ã€‚é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚";
  return "è«–æ–‡ä½œæˆã®æº–å‚™ã‚’å§‹ã‚ã¾ã—ãŸã­ã€‚ä¸€ã¤ä¸€ã¤ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å¤§åˆ‡ã«ã€ç€å®Ÿã«é€²ã‚ã¦ã„ãã¾ã—ã‚‡ã†ã€‚";
};

const ProgressBar = ({ progress }) => (
  <div className="progress-bar-container">
    <div
      className="progress-bar"
      style={{ width: `${progress}%` }}
    />
  </div>
);

const ProgressCharacter = ({ progress }) => {
  let character;
  if (progress < 20) {
    character = (
      <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="45" fill="#FFD700"/>
        <circle cx="35" cy="40" r="5" fill="#000"/>
        <circle cx="65" cy="40" r="5" fill="#000"/>
        <path d="M35 70 Q50 60 65 70" stroke="#000" strokeWidth="3" fill="none"/>
      </svg>
    );
  } else if (progress < 40) {
    character = (
      <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="45" fill="#FFD700"/>
        <circle cx="35" cy="40" r="5" fill="#000"/>
        <circle cx="65" cy="40" r="5" fill="#000"/>
        <path d="M35 65 Q50 70 65 65" stroke="#000" strokeWidth="3" fill="none"/>
      </svg>
    );
  } else if (progress < 60) {
    character = (
      <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="45" fill="#FFD700"/>
        <circle cx="35" cy="40" r="5" fill="#000"/>
        <circle cx="65" cy="40" r="5" fill="#000"/>
        <path d="M35 65 Q50 65 65 65" stroke="#000" strokeWidth="3" fill="none"/>
      </svg>
    );
  } else if (progress < 80) {
    character = (
      <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="45" fill="#FFD700"/>
        <circle cx="35" cy="40" r="5" fill="#000"/>
        <circle cx="65" cy="40" r="5" fill="#000"/>
        <path d="M35 60 Q50 70 65 60" stroke="#000" strokeWidth="3" fill="none"/>
      </svg>
    );
  } else {
    character = (
      <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="45" fill="#FFD700"/>
        <path d="M30 40 Q35 35 40 40" stroke="#000" strokeWidth="3" fill="none"/>
        <path d="M60 40 Q65 35 70 40" stroke="#000" strokeWidth="3" fill="none"/>
        <path d="M30 60 Q50 80 70 60" stroke="#000" strokeWidth="3" fill="none"/>
      </svg>
    );
  }

  return <div className="progress-character">{character}</div>;
};

const Certificate = ({ progress }) => (
  <div className="certificate">
    <div className="certificate-content">
      <ProgressCharacter progress={progress} />
      <div className="certificate-text">
        <p className="progress-percentage">{progress}% å®Œäº†</p>
        <p className="certificate-comment">{getCertificateComment(progress)}</p>
      </div>
    </div>
  </div>
);

const ChecklistItem = ({ item, isChecked, onToggle }) => (
  <label className="checklist-item">
    <input
      type="checkbox"
      checked={isChecked}
      onChange={onToggle}
    />
    <span>{item}</span>
  </label>
);

const Accordion = ({ title, children }) => {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <div className="accordion">
      <button
        className="accordion-button"
        onClick={() => setIsOpen(!isOpen)}
      >
        <span>{title}</span>
        <span className={`accordion-icon ${isOpen ? 'open' : ''}`}>â–¼</span>
      </button>
      {isOpen && <div className="accordion-content">{children}</div>}
    </div>
  );
};

const ThesisChecklistTool = () => {
  const [checkedItems, setCheckedItems] = useState({});
  const [progress, setProgress] = useState(0);

  useEffect(() => {
    const totalItems = Object.values(checklistData).reduce(
      (acc, section) => acc + Object.values(section).reduce((sum, items) => sum + items.length, 0),
      0
    );
    const checkedCount = Object.values(checkedItems).filter(Boolean).length;
    setProgress(Math.round((checkedCount / totalItems) * 100));
  }, [checkedItems]);

  const handleToggle = (item) => {
    setCheckedItems(prev => ({ ...prev, [item]: !prev[item] }));
  };

  return (
    <div className="thesis-checklist-tool noto-sans-jp">
      <h1>å’è«–ãƒ»ä¿®è«–ãƒã‚§ãƒƒã‚«ãƒ¼ ğŸ“</h1>

      {Object.entries(checklistData).map(([section, subsections], index) => (
        <Accordion key={index} title={section}>
          {Object.entries(subsections).map(([subsection, items], subIndex) => (
            <div key={subIndex} className="subsection">
              <h3>{subsection}</h3>
              {items.map((item, itemIndex) => (
                <ChecklistItem
                  key={itemIndex}
                  item={item}
                  isChecked={checkedItems[item] || false}
                  onToggle={() => handleToggle(item)}
                />
              ))}
            </div>
          ))}
        </Accordion>
      ))}

      <div className="progress-section">
        <h2>é€²æ—çŠ¶æ³</h2>
        <ProgressBar progress={progress} />
        <p className="progress-text">
          å®Œæˆåº¦: {progress}% {progress < 30 ? 'ğŸ' : progress < 70 ? 'ğŸš€' : 'ğŸ‰'}
        </p>
      </div>

      <Certificate progress={progress} />
    </div>
  );
};

export default ThesisChecklistTool;